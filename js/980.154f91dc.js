"use strict";(self["webpackChunkvue01"]=self["webpackChunkvue01"]||[]).push([[980],{908:function(e,t,i){i.d(t,{A:function(){return r}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"right-button-group"},[e.isShowZhongYangButton?t("el-button",{staticClass:"long-btn2",class:{active:"中央空调"===e.selectedButton},attrs:{type:"primary"},on:{click:e.handleZhongYangClick}},[t("i",{staticClass:"el-icon-office-building"}),e._v(" 中央空调 ")]):e._e(),e.isShowDeviceInfoButton?t("el-button",{staticClass:"long-btn",class:{active:"设备信息"===e.selectedButton},attrs:{type:"primary"},on:{click:e.handleDeviceInfoClick}},[t("i",{staticClass:"el-icon-info"}),e._v(" 设备信息 ")]):e._e(),e.isDataRelatedButton?t("el-button",{staticClass:"long-btn3",class:{active:"数据总览"===e.selectedButton},attrs:{type:"primary"},on:{click:e.handleDataOverviewClick}},[t("i",{staticClass:"el-icon-data-analysis"}),e._v(" 数据总览 ")]):e._e(),e.isDataRelatedButton?t("el-button",{staticClass:"long-btn4",class:{active:"用电计量"===e.selectedButton},attrs:{type:"primary"},on:{click:e.handleElectricityMeterClick}},[t("i",{staticClass:"el-icon-lightning"}),e._v(" 用电计量 ")]):e._e(),e.isDataRelatedButton?t("el-button",{staticClass:"long-btn5",class:{active:"用水计量"===e.selectedButton},attrs:{type:"primary"},on:{click:e.handleWaterMeterClick}},[t("i",{staticClass:"el-icon-watermelon"}),e._v(" 用水计量 ")]):e._e(),e.isGJButton?t("el-button",{staticClass:"long-btn6",class:{active:"告警级别"===e.selectedButton},attrs:{type:"primary"},on:{click:e.handleAlarmLevelClick}},[t("i",{staticClass:"el-icon-bell"}),e._v(" 告警级别 ")]):e._e(),e.isGJButton?t("el-button",{staticClass:"long-btn7",class:{active:"告警规则"===e.selectedButton},attrs:{type:"primary"},on:{click:e.handleAlarmRuleClick}},[t("i",{staticClass:"el-icon-setting"}),e._v(" 告警规则 ")]):e._e(),e.isGJButton?t("el-button",{staticClass:"long-btn8",class:{active:"告警处理"===e.selectedButton},attrs:{type:"primary"},on:{click:e.handleAlarmHandleClick}},[t("i",{staticClass:"el-icon-edit"}),e._v(" 告警处理 ")]):e._e(),e.isZhiNengQuanXianButton?t("el-button",{staticClass:"long-btn10",class:{active:"智能控制"===e.selectedButton},attrs:{type:"primary"},on:{click:e.handleZhiNengClick}},[t("i",{staticClass:"el-icon-cpu"}),e._v(" 智能控制 ")]):e._e(),e.isZhiNengQuanXianButton?t("el-button",{staticClass:"long-btn9",class:{active:"权限控制"===e.selectedButton},attrs:{type:"primary"},on:{click:e.handleQuanXianClick}},[t("i",{staticClass:"el-icon-lock"}),e._v(" 权限控制 ")]):e._e()],1)},l=[],n=(i(4114),{data(){return{localSelectedButton:this.selectedButton}},computed:{isShowDeviceInfoButton(){return["GongZuoTai","zhongyangkongtiao"].includes(this.$route.name)},isShowZhongYangButton(){return["GongZuoTai","zhongyangkongtiao"].includes(this.$route.name)},isDataRelatedButton(){return["shujuzonglan","yongshuijiliang","yongdianjiliang"].includes(this.$route.name)},isGJButton(){return["gaojingjibie","gaojingguize","gaojingchuli"].includes(this.$route.name)},isZhiNengQuanXianButton(){return["zhinengkongzhi","quanxianguanli"].includes(this.$route.name)},selectedButton:{get(){return this.localSelectedButton},set(e){this.localSelectedButton=e,this.$emit("update:selectedButton",e)}}},mounted(){this.updateSelectedButtonByRoute()},watch:{"$route.name":function(){this.updateSelectedButtonByRoute()}},methods:{fetchData(){console.log("正在获取数据...")},updateSelectedButtonByRoute(){const e={GongZuoTai:"设备信息",zhongyangkongtiao:"中央空调",shujuzonglan:"数据总览",yongdianjiliang:"用电计量",yongshuijiliang:"用水计量",gaojingjibie:"告警级别",gaojingguize:"告警规则",gaojingchuli:"告警处理",quanxianguanli:"权限控制",zhinengkongzhi:"智能控制"};e[this.$route.name]&&(this.selectedButton=e[this.$route.name])},handleZhongYangClick(){this.selectedButton="中央空调","zhongyangkongtiao"!==this.$route.name&&this.$router.push({name:"zhongyangkongtiao"}),this.$emit("zhong-yang-click")},handleDeviceInfoClick(){this.selectedButton="设备信息",this.fetchData(),"GongZuoTai"!==this.$route.name&&this.$router.push({name:"GongZuoTai"}),this.$emit("device-info-click")},handleDataOverviewClick(){this.selectedButton="数据总览","shujuzonglan"!==this.$route.name&&this.$router.push({name:"shujuzonglan"})},handleElectricityMeterClick(){this.selectedButton="用电计量","yongdianjiliang"!==this.$route.name&&this.$router.push({name:"yongdianjiliang"})},handleWaterMeterClick(){this.selectedButton="用水计量","yongshuijiliang"!==this.$route.name&&this.$router.push({name:"yongshuijiliang"})},handleAlarmLevelClick(){this.selectedButton="告警级别","gaojingjibie"!==this.$route.name&&this.$router.push({name:"gaojingjibie"})},handleAlarmRuleClick(){this.selectedButton="告警规则","gaojingguize"!==this.$route.name&&this.$router.push({name:"gaojingguize"})},handleAlarmHandleClick(){this.selectedButton="告警处理","gaojingchuli"!==this.$route.name&&this.$router.push({name:"gaojingchuli"})},handleQuanXianClick(){this.selectedButton="权限控制","quanxianguanli"!==this.$route.name&&this.$router.push({name:"quanxianguanli"})},handleZhiNengClick(){this.selectedButton="智能控制","zhinengkongzhi"!==this.$route.name&&this.$router.push({name:"zhinengkongzhi"})}}}),s=n,o=i(1656),c=(0,o.A)(s,a,l,!1,null,"6b84d5f1",null),r=c.exports},5980:function(e,t,i){i.r(t),i.d(t,{default:function(){return u}});i(8111),i(1701);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("div",{staticClass:"main-content1"},[t("img",{staticClass:"card-icon",attrs:{src:i(6407),alt:"楼宇图标"}}),t("span",{staticClass:"icon-text"},[e._v("告警规则")]),t("el-button",{staticClass:"small-btn1",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("新增")]),t("el-divider",{staticClass:"form-divider"}),t("div",{staticClass:"left-tree-container"},[t("el-tree",{staticClass:"tree-component",attrs:{data:e.treeData,props:e.defaultProps,"highlight-current":"","default-expand-all":"","node-key":"id"},on:{"node-click":e.handleNodeClick}})],1),t("div",{staticClass:"right-table-container"},[e._m(0),t("el-table",{staticClass:"device-table",attrs:{data:e.filteredDeviceTableData,height:"500"}},[t("el-table-column",{attrs:{prop:"deviceCode",label:"设备编码",width:"120"}}),t("el-table-column",{attrs:{prop:"deviceName",label:"设备名称",width:"150"}}),t("el-table-column",{attrs:{prop:"deviceType",label:"设备类型",width:"120"}}),t("el-table-column",{attrs:{prop:"status",label:"运行状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-tag",{attrs:{type:"运行"===i.row.status?"success":"danger"}},[e._v(" "+e._s(i.row.status)+" ")])]}}])}),t("el-table-column",{attrs:{prop:"location",label:"安装位置",width:"150"}}),t("el-table-column",{attrs:{prop:"upperLimit",label:"上限",width:"130"}}),t("el-table-column",{attrs:{prop:"lowerLimit",label:"下限",width:"100"}}),t("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.updateDevice(i.row)}}},[e._v("更新")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.deleteDevice(i.row)}}},[e._v("删除")])]}}])})],1)],1),e.dialogVisible?t("div",{staticClass:"dialog-overlay"},[t("div",{staticClass:"dialog-wrapper"},[t("div",{staticClass:"dialog-header"},[t("span",{staticClass:"dialog-title"},[e._v("新增告警级别")]),t("button",{staticClass:"dialog-close",on:{click:function(t){e.dialogVisible=!1}}})]),t("div",{staticClass:"dialog-body"},[t("div",{staticClass:"form-item"},[t("label",{staticClass:"form-label"},[e._v("告警级别")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.newAlarmLevel.levelNo,expression:"newAlarmLevel.levelNo"}],staticClass:"form-select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.newAlarmLevel,"levelNo",t.target.multiple?i:i[0])}}},[t("option",{attrs:{value:""}},[e._v("请选择告警级别")]),e._l(e.alarmLevelOptions,function(i){return t("option",{key:i.value,domProps:{value:i.value}},[e._v(" "+e._s(i.label)+" ")])})],2)]),t("div",{staticClass:"form-item"},[t("label",{staticClass:"form-label"},[e._v("严重程度")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newAlarmLevel.levelDescription,expression:"newAlarmLevel.levelDescription"}],staticClass:"form-input",attrs:{placeholder:"请输入严重程度"},domProps:{value:e.newAlarmLevel.levelDescription},on:{input:function(t){t.target.composing||e.$set(e.newAlarmLevel,"levelDescription",t.target.value)}}})])]),t("div",{staticClass:"dialog-footer"},[t("button",{staticClass:"btn btn-default",on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),t("button",{staticClass:"btn btn-primary",on:{click:e.addAlarmLevel}},[e._v("确 定")])])])]):e._e()],1),t("right-button-group",{model:{value:e.selectedButton,callback:function(t){e.selectedButton=t},expression:"selectedButton"}})],1)},l=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"table-header"},[t("span",{staticClass:"table-title"},[e._v("设备信息")])])}],n=(i(2489),i(908)),s={components:{RightButtonGroup:n.A},data(){return{selectedButton:"告警规则",dialogVisible:!1,detailDialogVisible:!1,newAlarmLevel:{levelNo:"",levelDescription:""},alarmLevelOptions:[{value:"1",label:"一级告警"},{value:"2",label:"二级告警"},{value:"3",label:"三级告警"}],treeData:[{id:1,label:"冷热源系统",children:[{id:2,label:"冷水机组",type:"chilledWaterUnit",children:[{id:3,label:"冷水泵1#",type:"chilledWaterPump"},{id:4,label:"冷水泵2#",type:"chilledWaterPump"},{id:5,label:"冷水泵3#",type:"chilledWaterPump"}]},{id:6,label:"热水机组",type:"hotWaterUnit",children:[{id:7,label:"热水泵1#",type:"hotWaterPump"},{id:8,label:"热水泵2#",type:"hotWaterPump"}]}]}],defaultProps:{children:"children",label:"label"},deviceTableData:[{deviceCode:"CW-001",deviceName:"冷水泵1#",deviceType:"离心泵",status:"运行",location:"B1层泵房",upperLimit:"110",lowerLimit:"120",ip:"192.168.1.101",person:"张三",phone:"13800138001",remark:"主用泵",type:"chilledWaterPump"},{deviceCode:"CW-002",deviceName:"冷水泵2#",deviceType:"离心泵",status:"停止",location:"B1层泵房",upperLimit:"90",lowerLimit:"110",ip:"192.168.1.102",person:"李四",phone:"13800138002",remark:"备用泵",type:"chilledWaterPump"},{deviceCode:"CW-002",deviceName:"冷水泵2#",deviceType:"离心泵",status:"停止",location:"B1层泵房",upperLimit:"90",lowerLimit:"110",ip:"192.168.1.102",person:"李四",phone:"13800138002",remark:"备用泵",type:"chilledWaterPump"},{deviceCode:"CW-002",deviceName:"冷水泵2#",deviceType:"离心泵",status:"停止",location:"B1层泵房",upperLimit:"90",lowerLimit:"110",ip:"192.168.1.102",person:"李四",phone:"13800138002",remark:"备用泵",type:"chilledWaterPump"},{deviceCode:"CW-002",deviceName:"冷水泵2#",deviceType:"离心泵",status:"停止",location:"B1层泵房",upperLimit:"90",lowerLimit:"110",ip:"192.168.1.102",person:"李四",phone:"13800138002",remark:"备用泵",type:"chilledWaterPump"},{deviceCode:"CW-002",deviceName:"冷水泵2#",deviceType:"离心泵",status:"停止",location:"B1层泵房",upperLimit:"90",lowerLimit:"110",ip:"192.168.1.102",person:"李四",phone:"13800138002",remark:"备用泵",type:"chilledWaterPump"},{deviceCode:"CW-002",deviceName:"冷水泵2#",deviceType:"离心泵",status:"停止",location:"B1层泵房",upperLimit:"90",lowerLimit:"110",ip:"192.168.1.102",person:"李四",phone:"13800138002",remark:"备用泵",type:"chilledWaterPump"},{deviceCode:"CW-003",deviceName:"冷水泵3#",deviceType:"离心泵",status:"故障",location:"B1层泵房",upperLimit:"100",lowerLimit:"80",ip:"192.168.1.103",person:"王五",phone:"13800138003",remark:"维修中",type:"chilledWaterPump"},{deviceCode:"HW-001",deviceName:"热水泵1#",deviceType:"离心泵",status:"运行",location:"B1层泵房",upperLimit:"95",lowerLimit:"70",ip:"192.168.1.104",person:"赵六",phone:"13800138004",remark:"主用泵",type:"hotWaterPump"},{deviceCode:"HW-002",deviceName:"热水泵2#",deviceType:"离心泵",status:"停止",location:"B1层泵房",upperLimit:"85",lowerLimit:"65",ip:"192.168.1.105",person:"孙七",phone:"13800138005",remark:"备用泵",type:"hotWaterPump"}],currentDevice:{},selectedTreeNode:null}},computed:{filteredDeviceTableData(){if(!this.selectedTreeNode)return this.deviceTableData;const e=this.selectedTreeNode;return"chilledWaterPump"===e.type||"hotWaterPump"===e.type?this.deviceTableData.filter(t=>t.type===e.type):"chilledWaterUnit"===e.type?this.deviceTableData.filter(e=>"chilledWaterPump"===e.type):"hotWaterUnit"===e.type?this.deviceTableData.filter(e=>"hotWaterPump"===e.type):this.deviceTableData}},methods:{onSubmit(){this.dialogVisible=!0,this.newAlarmLevel={levelNo:"",levelDescription:""},this.fetchAlarmLevelOptions()},handleNodeClick(e){console.log("点击节点:",e),this.selectedTreeNode=e},viewDetail(e){this.currentDevice={...e},this.detailDialogVisible=!0},editDevice(e){this.currentDevice={...e},console.log("编辑设备:",e)},fetchAlarmLevelOptions(){console.log("获取告警级别选项")},addAlarmLevel(){console.log("添加告警级别:",this.newAlarmLevel),this.dialogVisible=!1},updateDevice(e){this.currentDevice={...e},console.log("更新规则:",e),this.$message({message:"规则更新成功",type:"success"})},deleteDevice(e){console.log("删除设备:",e),this.$confirm("确定要删除该设备吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$message({message:"删除成功",type:"success"})}).catch(()=>{})}}},o=s,c=i(1656),r=(0,c.A)(o,a,l,!1,null,null,null),u=r.exports},6407:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAO1JREFUSIntVcERwjAMkzkG6CbtCB0BNmAFJmjZoBuUEdiEsgkbiE/KhSRunBwPHuiuD1uObMdNAvyRgWgEyQOAtlL3ISK3XAJWigMAREQAYG+IvRRqD6YoOhSKR+t2hgVdYI8kB80ursThpFWYs5MzIDkFrplkKyJnxDMpmxHJq1+5+1bMhvXp2ZFsSN4d/yTZe1zvfHQxjceFM1ETLJ54l+A7P4kmuJVgRRORn12GgiPJ0ZxAE7fGhfzmOQj3tzZGrcziy9mWuygH2zmo7SCnE3WQ2k+rL4X3e2D5g0qQeg+OAKIDVonlSzo/gBcXO4SUHIYpiwAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=980.154f91dc.js.map