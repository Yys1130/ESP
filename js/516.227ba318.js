"use strict";(self["webpackChunkvue01"]=self["webpackChunkvue01"]||[]).push([[516],{908:function(t,e,a){a.d(e,{A:function(){return u}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"right-button-group"},[t.isShowZhongYangButton?e("el-button",{staticClass:"long-btn2",class:{active:"中央空调"===t.selectedButton},attrs:{type:"primary"},on:{click:t.handleZhongYangClick}},[e("i",{staticClass:"el-icon-office-building"}),t._v(" 中央空调 ")]):t._e(),t.isShowDeviceInfoButton?e("el-button",{staticClass:"long-btn",class:{active:"设备信息"===t.selectedButton},attrs:{type:"primary"},on:{click:t.handleDeviceInfoClick}},[e("i",{staticClass:"el-icon-info"}),t._v(" 设备信息 ")]):t._e(),t.isDataRelatedButton?e("el-button",{staticClass:"long-btn3",class:{active:"数据总览"===t.selectedButton},attrs:{type:"primary"},on:{click:t.handleDataOverviewClick}},[e("i",{staticClass:"el-icon-data-analysis"}),t._v(" 数据总览 ")]):t._e(),t.isDataRelatedButton?e("el-button",{staticClass:"long-btn4",class:{active:"用电计量"===t.selectedButton},attrs:{type:"primary"},on:{click:t.handleElectricityMeterClick}},[e("i",{staticClass:"el-icon-lightning"}),t._v(" 用电计量 ")]):t._e(),t.isDataRelatedButton?e("el-button",{staticClass:"long-btn5",class:{active:"用水计量"===t.selectedButton},attrs:{type:"primary"},on:{click:t.handleWaterMeterClick}},[e("i",{staticClass:"el-icon-watermelon"}),t._v(" 用水计量 ")]):t._e(),t.isGJButton?e("el-button",{staticClass:"long-btn6",class:{active:"告警级别"===t.selectedButton},attrs:{type:"primary"},on:{click:t.handleAlarmLevelClick}},[e("i",{staticClass:"el-icon-bell"}),t._v(" 告警级别 ")]):t._e(),t.isGJButton?e("el-button",{staticClass:"long-btn7",class:{active:"告警规则"===t.selectedButton},attrs:{type:"primary"},on:{click:t.handleAlarmRuleClick}},[e("i",{staticClass:"el-icon-setting"}),t._v(" 告警规则 ")]):t._e(),t.isGJButton?e("el-button",{staticClass:"long-btn8",class:{active:"告警处理"===t.selectedButton},attrs:{type:"primary"},on:{click:t.handleAlarmHandleClick}},[e("i",{staticClass:"el-icon-edit"}),t._v(" 告警处理 ")]):t._e(),t.isZhiNengQuanXianButton?e("el-button",{staticClass:"long-btn10",class:{active:"智能控制"===t.selectedButton},attrs:{type:"primary"},on:{click:t.handleZhiNengClick}},[e("i",{staticClass:"el-icon-cpu"}),t._v(" 智能控制 ")]):t._e(),t.isZhiNengQuanXianButton?e("el-button",{staticClass:"long-btn9",class:{active:"权限控制"===t.selectedButton},attrs:{type:"primary"},on:{click:t.handleQuanXianClick}},[e("i",{staticClass:"el-icon-lock"}),t._v(" 权限控制 ")]):t._e()],1)},i=[],l=(a(4114),{data(){return{localSelectedButton:this.selectedButton}},computed:{isShowDeviceInfoButton(){return["GongZuoTai","zhongyangkongtiao"].includes(this.$route.name)},isShowZhongYangButton(){return["GongZuoTai","zhongyangkongtiao"].includes(this.$route.name)},isDataRelatedButton(){return["shujuzonglan","yongshuijiliang","yongdianjiliang"].includes(this.$route.name)},isGJButton(){return["gaojingjibie","gaojingguize","gaojingchuli"].includes(this.$route.name)},isZhiNengQuanXianButton(){return["zhinengkongzhi","quanxianguanli"].includes(this.$route.name)},selectedButton:{get(){return this.localSelectedButton},set(t){this.localSelectedButton=t,this.$emit("update:selectedButton",t)}}},mounted(){this.updateSelectedButtonByRoute()},watch:{"$route.name":function(){this.updateSelectedButtonByRoute()}},methods:{fetchData(){console.log("正在获取数据...")},updateSelectedButtonByRoute(){const t={GongZuoTai:"设备信息",zhongyangkongtiao:"中央空调",shujuzonglan:"数据总览",yongdianjiliang:"用电计量",yongshuijiliang:"用水计量",gaojingjibie:"告警级别",gaojingguize:"告警规则",gaojingchuli:"告警处理",quanxianguanli:"权限控制",zhinengkongzhi:"智能控制"};t[this.$route.name]&&(this.selectedButton=t[this.$route.name])},handleZhongYangClick(){this.selectedButton="中央空调","zhongyangkongtiao"!==this.$route.name&&this.$router.push({name:"zhongyangkongtiao"}),this.$emit("zhong-yang-click")},handleDeviceInfoClick(){this.selectedButton="设备信息",this.fetchData(),"GongZuoTai"!==this.$route.name&&this.$router.push({name:"GongZuoTai"}),this.$emit("device-info-click")},handleDataOverviewClick(){this.selectedButton="数据总览","shujuzonglan"!==this.$route.name&&this.$router.push({name:"shujuzonglan"})},handleElectricityMeterClick(){this.selectedButton="用电计量","yongdianjiliang"!==this.$route.name&&this.$router.push({name:"yongdianjiliang"})},handleWaterMeterClick(){this.selectedButton="用水计量","yongshuijiliang"!==this.$route.name&&this.$router.push({name:"yongshuijiliang"})},handleAlarmLevelClick(){this.selectedButton="告警级别","gaojingjibie"!==this.$route.name&&this.$router.push({name:"gaojingjibie"})},handleAlarmRuleClick(){this.selectedButton="告警规则","gaojingguize"!==this.$route.name&&this.$router.push({name:"gaojingguize"})},handleAlarmHandleClick(){this.selectedButton="告警处理","gaojingchuli"!==this.$route.name&&this.$router.push({name:"gaojingchuli"})},handleQuanXianClick(){this.selectedButton="权限控制","quanxianguanli"!==this.$route.name&&this.$router.push({name:"quanxianguanli"})},handleZhiNengClick(){this.selectedButton="智能控制","zhinengkongzhi"!==this.$route.name&&this.$router.push({name:"zhinengkongzhi"})}}}),o=l,s=a(1656),r=(0,s.A)(o,n,i,!1,null,"6b84d5f1",null),u=r.exports},1516:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("div",{staticClass:"main-content"},[e("img",{staticClass:"card-icon",attrs:{src:a(6407),alt:"楼宇图标"}}),e("span",{staticClass:"icon-text"},[t._v("告警处理")]),e("el-divider",{staticClass:"CLform-divider"}),e("div",{staticClass:"CLright-table-container"},[e("el-table",{staticClass:"device-table",staticStyle:{width:"100%"},attrs:{data:t.alarmTableData,height:"calc(100% - 30px)"}},[e("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),e("el-table-column",{attrs:{prop:"monitorPoint",label:"监测点名称","min-width":"120"}}),e("el-table-column",{attrs:{prop:"alarmType",label:"告警类型","min-width":"100"}}),e("el-table-column",{attrs:{prop:"alarmLevel",label:"告警级别","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-tag",{attrs:{type:t.getAlarmLevelType(a.row.alarmLevel)}},[t._v(" "+t._s(a.row.alarmLevel)+" ")])]}}])}),e("el-table-column",{attrs:{prop:"alarmTime",label:"告警时间","min-width":"140"}}),e("el-table-column",{attrs:{prop:"alarmReason",label:"告警原因","min-width":"120"}}),e("el-table-column",{attrs:{label:"操作","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.handleAlarm(a.row)}}},[t._v("处理")])]}}])})],1)],1)],1),e("right-button-group",{model:{value:t.selectedButton,callback:function(e){t.selectedButton=e},expression:"selectedButton"}})],1)},i=[],l=a(908),o={components:{RightButtonGroup:l.A},data(){return{selectedButton:"告警处理",dialogVisible:!1,detailDialogVisible:!1,newAlarmLevel:{levelNo:"",levelDescription:""},alarmLevelOptions:[{value:"1",label:"一级告警"},{value:"2",label:"二级告警"},{value:"3",label:"三级告警"}],currentDevice:{},selectedTreeNode:null,alarmTableData:[{monitorPoint:"冷水机组1#",alarmType:"温度异常",alarmLevel:"一级告警",alarmTime:"2023-05-15 14:30:22",alarmReason:"出水温度过高"},{monitorPoint:"冷却塔2#",alarmType:"压力异常",alarmLevel:"二级告警",alarmTime:"2023-05-15 13:45:10",alarmReason:"供水压力偏低"},{monitorPoint:"冷冻泵3#",alarmType:"电流异常",alarmLevel:"三级告警",alarmTime:"2023-05-15 12:20:05",alarmReason:"运行电流波动"},{monitorPoint:"热水机组1#",alarmType:"压力异常",alarmLevel:"二级告警",alarmTime:"2023-05-15 11:15:30",alarmReason:"回水压力异常"},{monitorPoint:"冷却泵2#",alarmType:"温度异常",alarmLevel:"三级告警",alarmTime:"2023-05-15 10:45:12",alarmReason:"电机温度偏高"},{monitorPoint:"空调机组1#",alarmType:"温湿度异常",alarmLevel:"二级告警",alarmTime:"2023-05-15 09:30:45",alarmReason:"室内温度超标"},{monitorPoint:"新风机组2#",alarmType:"过滤器异常",alarmLevel:"三级告警",alarmTime:"2023-05-15 08:15:20",alarmReason:"过滤器压差过高"},{monitorPoint:"冷却塔3#",alarmType:"振动异常",alarmLevel:"一级告警",alarmTime:"2023-05-14 17:45:10",alarmReason:"风机振动超标"},{monitorPoint:"冷冻泵4#",alarmType:"频率异常",alarmLevel:"三级告警",alarmTime:"2023-05-14 16:20:35",alarmReason:"变频器频率波动"},{monitorPoint:"热水泵1#",alarmType:"压力异常",alarmLevel:"二级告警",alarmTime:"2023-05-14 15:10:50",alarmReason:"出口压力偏低"}]}},computed:{},methods:{getAlarmLevelType(t){switch(t){case"一级告警":return"danger";case"二级告警":return"warning";case"三级告警":return"info";default:return"info"}},handleAlarm(t){console.log("处理告警:",t),this.$message({message:"告警处理成功",type:"success"})}}},s=o,r=a(1656),u=(0,r.A)(s,n,i,!1,null,"0bda0738",null),c=u.exports},6407:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAO1JREFUSIntVcERwjAMkzkG6CbtCB0BNmAFJmjZoBuUEdiEsgkbiE/KhSRunBwPHuiuD1uObMdNAvyRgWgEyQOAtlL3ISK3XAJWigMAREQAYG+IvRRqD6YoOhSKR+t2hgVdYI8kB80ursThpFWYs5MzIDkFrplkKyJnxDMpmxHJq1+5+1bMhvXp2ZFsSN4d/yTZe1zvfHQxjceFM1ETLJ54l+A7P4kmuJVgRRORn12GgiPJ0ZxAE7fGhfzmOQj3tzZGrcziy9mWuygH2zmo7SCnE3WQ2k+rL4X3e2D5g0qQeg+OAKIDVonlSzo/gBcXO4SUHIYpiwAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=516.227ba318.js.map