"use strict";(self["webpackChunkvue01"]=self["webpackChunkvue01"]||[]).push([[505],{8505:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});s(8111),s(1701);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("div",{staticClass:"gdcl-main"},[t._m(0),e("div",{staticClass:"search-container"},[e("div",{staticClass:"select-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.sender,expression:"sender"}],staticClass:"sender-select",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.sender=e.target.multiple?s:s[0]}}},[e("option",{attrs:{value:""}},[t._v("请选择传送人")]),t._l(t.senderOptions,function(s){return e("option",{key:s,domProps:{value:s}},[t._v(" "+t._s(s)+" ")])})],2)]),e("div",{staticClass:"select-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedStatus,expression:"selectedStatus"}],staticClass:"status-select",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.selectedStatus=e.target.multiple?s:s[0]}}},[e("option",{attrs:{value:""}},[t._v("请选择工单状态")]),t._l(t.statusOptions,function(s){return e("option",{key:s.value,domProps:{value:s.value}},[t._v(" "+t._s(s.label)+" ")])})],2)]),e("button",{staticClass:"search-button",on:{click:t.handleSearch}},[t._v("查询")]),e("button",{staticClass:"issue-button",on:{click:t.handleIssue}},[t._v("下发")])]),e("div",{staticClass:"divider"}),e("div",{staticClass:"table-container"},[e("table",{staticClass:"order-table"},[t._m(1),e("tbody",t._l(t.orderList,function(s,a){return e("tr",{key:a,on:{click:function(e){return t.selectRow(s)}}},[e("td",[t._v(t._s(s.sender))]),e("td",[t._v(t._s(s.createTime))]),e("td",[e("span",{class:["status-badge",t.getStatusClass(s.status)]},[t._v(" "+t._s(s.status)+" ")])]),e("td",[t._v(t._s(s.type))]),e("td",[e("button",{staticClass:"detail-button",on:{click:function(e){return e.stopPropagation(),t.showOrderDetail(s)}}},[t._v("详情")]),e("button",{staticClass:"update-button",on:{click:function(e){return e.stopPropagation(),t.updateOrder(s)}}},[t._v("更新")])])])}),0)])]),e("div",{staticClass:"divider-bottom"})]),t.showIssueModal?e("div",{staticClass:"modal-overlay",on:{click:t.closeModal}},[e("div",{staticClass:"modal-content",on:{click:function(t){t.stopPropagation()}}},[t._m(2),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-group"},[e("label",[t._v("工单传送给谁：")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.issueForm.receiver,expression:"issueForm.receiver"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.issueForm,"receiver",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:""}},[t._v("请选择接收人")]),t._l(t.senderOptions,function(s){return e("option",{key:s,domProps:{value:s}},[t._v(" "+t._s(s)+" ")])})],2)]),e("div",{staticClass:"form-group"},[e("label",[t._v("工单分类：")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.issueForm.category,expression:"issueForm.category"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.issueForm,"category",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:""}},[t._v("请选择分类")]),e("option",{attrs:{value:"repair"}},[t._v("维修")]),e("option",{attrs:{value:"maintenance"}},[t._v("保养")]),e("option",{attrs:{value:"inspection"}},[t._v("巡检")]),e("option",{attrs:{value:"other"}},[t._v("其他")])])]),e("div",{staticClass:"form-group"},[e("label",[t._v("工单详细内容：")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.issueForm.content,expression:"issueForm.content"}],attrs:{placeholder:"请输入工单详细内容"},domProps:{value:t.issueForm.content},on:{input:function(e){e.target.composing||t.$set(t.issueForm,"content",e.target.value)}}})])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"cancel-button",on:{click:t.closeModal}},[t._v("取消")]),e("button",{staticClass:"confirm-button",on:{click:t.confirmIssue}},[t._v("确定")])])])]):t._e(),t.showDetailModal?e("div",{staticClass:"modal-overlay",on:{click:t.closeDetailModal}},[e("div",{staticClass:"modal-content detail-modal",on:{click:function(t){t.stopPropagation()}}},[t._m(3),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"detail-grid"},[e("div",{staticClass:"detail-item"},[e("span",{staticClass:"detail-label"},[t._v("工单编号：")]),e("span",{staticClass:"detail-value"},[t._v(t._s(t.selectedOrder.id))])]),e("div",{staticClass:"detail-item"},[e("span",{staticClass:"detail-label"},[t._v("传送人：")]),e("span",{staticClass:"detail-value"},[t._v(t._s(t.selectedOrder.sender))])]),e("div",{staticClass:"detail-item"},[e("span",{staticClass:"detail-label"},[t._v("创建时间：")]),e("span",{staticClass:"detail-value"},[t._v(t._s(t.selectedOrder.createTime))])]),e("div",{staticClass:"detail-item"},[e("span",{staticClass:"detail-label"},[t._v("工单状态：")]),e("span",{staticClass:"detail-value"},[e("span",{class:["status-badge",t.getStatusClass(t.selectedOrder.status)]},[t._v(" "+t._s(t.selectedOrder.status)+" ")])])]),e("div",{staticClass:"detail-item"},[e("span",{staticClass:"detail-label"},[t._v("工单类型：")]),e("span",{staticClass:"detail-value"},[t._v(t._s(t.selectedOrder.type))])]),e("div",{staticClass:"detail-item content-item"},[e("span",{staticClass:"detail-label"},[t._v("工单内容：")]),e("span",{staticClass:"detail-value content-value"},[t._v(t._s(t.selectedOrder.content))])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"cancel-button",on:{click:t.closeDetailModal}},[t._v("关闭")])])])]):t._e(),t.showUpdateModal?e("div",{staticClass:"modal-overlay",on:{click:t.closeUpdateModal}},[e("div",{staticClass:"modal-content update-modal",on:{click:function(t){t.stopPropagation()}}},[t._m(4),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-group"},[e("label",[t._v("工单编号：")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.updateForm.id,expression:"updateForm.id"}],attrs:{type:"text",disabled:""},domProps:{value:t.updateForm.id},on:{input:function(e){e.target.composing||t.$set(t.updateForm,"id",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("传送人：")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.updateForm.sender,expression:"updateForm.sender"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.updateForm,"sender",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:""}},[t._v("请选择传送人")]),t._l(t.senderOptions,function(s){return e("option",{key:s,domProps:{value:s}},[t._v(" "+t._s(s)+" ")])})],2)]),e("div",{staticClass:"form-group"},[e("label",[t._v("工单状态：")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.updateForm.status,expression:"updateForm.status"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.updateForm,"status",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:""}},[t._v("请选择状态")]),e("option",{attrs:{value:"待处理"}},[t._v("待处理")]),e("option",{attrs:{value:"处理中"}},[t._v("处理中")]),e("option",{attrs:{value:"已完成"}},[t._v("已完成")]),e("option",{attrs:{value:"已取消"}},[t._v("已取消")])])]),e("div",{staticClass:"form-group"},[e("label",[t._v("工单类型：")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.updateForm.type,expression:"updateForm.type"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.updateForm,"type",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:""}},[t._v("请选择类型")]),e("option",{attrs:{value:"维修"}},[t._v("维修")]),e("option",{attrs:{value:"保养"}},[t._v("保养")]),e("option",{attrs:{value:"巡检"}},[t._v("巡检")]),e("option",{attrs:{value:"其他"}},[t._v("其他")])])]),e("div",{staticClass:"form-group"},[e("label",[t._v("工单内容：")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.updateForm.content,expression:"updateForm.content"}],domProps:{value:t.updateForm.content},on:{input:function(e){e.target.composing||t.$set(t.updateForm,"content",e.target.value)}}})])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"cancel-button",on:{click:t.closeUpdateModal}},[t._v("取消")]),e("button",{staticClass:"confirm-button",on:{click:t.confirmUpdate}},[t._v("确定")])])])]):t._e()])},o=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"title-container"},[e("div",{staticClass:"title"},[t._v("工单中心")]),e("div",{staticClass:"title-underline"})])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("传送人")]),e("th",[t._v("创建时间")]),e("th",[t._v("工单状态")]),e("th",[t._v("工单类型")]),e("th",[t._v("操作")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-header"},[e("h3",[t._v("工单设置")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-header"},[e("h3",[t._v("工单详情")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-header"},[e("h3",[t._v("更新工单")])])}],i=(s(7642),s(8004),s(3853),s(5876),s(2475),s(5024),s(1698),{name:"Gongdanchuli",data(){return{sender:"",selectedStatus:"",statusOptions:[],senderOptions:[],orderList:[{id:"GD20230501001",sender:"张三",createTime:"2023-05-01 10:30:00",status:"待处理",type:"维修",content:"设备故障维修，需要更换零件。具体问题包括：1.电机过热；2.传动带松动；3.控制系统异常。建议尽快处理以避免影响生产。"},{id:"GD20230502002",sender:"李四",createTime:"2023-05-02 14:20:00",status:"处理中",type:"保养",content:"定期设备保养，检查各部件运行状态。保养项目包括：1.清洁设备表面；2.检查润滑系统；3.紧固连接件；4.校准传感器。"},{id:"GD20230503003",sender:"王五",createTime:"2023-05-03 09:15:00",status:"已完成",type:"巡检",content:"日常巡检，记录设备运行数据。巡检结果：1.设备运行正常；2.温度在正常范围内；3.无异常噪音；4.各参数指标符合标准。"},{id:"GD20230504004",sender:"赵六",createTime:"2023-05-04 16:45:00",status:"已取消",type:"维修",content:"设备异常，需要专业技术人员处理。问题描述：1.控制系统故障；2.显示屏无显示；3.紧急停止按钮失灵。已联系厂家技术支持。"},{id:"GD20230505005",sender:"钱七",createTime:"2023-05-05 11:30:00",status:"待处理",type:"其他",content:"其他相关事务处理。需要协调多个部门：1.生产部门；2.质量部门；3.采购部门。预计完成时间3个工作日。"},{id:"GD20230506006",sender:"孙八",createTime:"2023-05-06 13:40:00",status:"处理中",type:"维修",content:"设备故障维修，更换损坏部件。故障部件：1.轴承；2.密封圈；3.传动带。已采购新部件，预计明天完成更换。"},{id:"GD20230507007",sender:"周九",createTime:"2023-05-07 15:25:00",status:"已完成",type:"保养",content:"月度设备保养，清洁和润滑。保养内容：1.全面清洁设备；2.更换润滑油；3.检查电气连接；4.测试安全装置。"},{id:"GD20230508008",sender:"吴十",createTime:"2023-05-08 08:50:00",status:"待处理",type:"巡检",content:"日常巡检，检查设备安全运行情况。重点检查：1.安全防护装置；2.紧急停止功能；3.操作面板显示；4.设备运行噪音。"},{id:"GD20230508008",sender:"吴十",createTime:"2023-05-08 08:50:00",status:"待处理",type:"巡检",content:"日常巡检，检查设备安全运行情况。重点检查：1.安全防护装置；2.紧急停止功能；3.操作面板显示；4.设备运行噪音。"},{id:"GD20230508008",sender:"吴十",createTime:"2023-05-08 08:50:00",status:"待处理",type:"巡检",content:"日常巡检，检查设备安全运行情况。重点检查：1.安全防护装置；2.紧急停止功能；3.操作面板显示；4.设备运行噪音。"},{id:"GD20230508008",sender:"吴十",createTime:"2023-05-08 08:50:00",status:"待处理",type:"巡检",content:"日常巡检，检查设备安全运行情况。重点检查：1.安全防护装置；2.紧急停止功能；3.操作面板显示；4.设备运行噪音。"},{id:"GD20230508008",sender:"吴十",createTime:"2023-05-08 08:50:00",status:"待处理",type:"巡检",content:"日常巡检，检查设备安全运行情况。重点检查：1.安全防护装置；2.紧急停止功能；3.操作面板显示；4.设备运行噪音。"},{id:"GD20230508008",sender:"吴十",createTime:"2023-05-08 08:50:00",status:"待处理",type:"巡检",content:"日常巡检，检查设备安全运行情况。重点检查：1.安全防护装置；2.紧急停止功能；3.操作面板显示；4.设备运行噪音。"},{id:"GD20230508008",sender:"吴十",createTime:"2023-05-08 08:50:00",status:"待处理",type:"巡检",content:"日常巡检，检查设备安全运行情况。重点检查：1.安全防护装置；2.紧急停止功能；3.操作面板显示；4.设备运行噪音。"},{id:"GD20230508008",sender:"吴十",createTime:"2023-05-08 08:50:00",status:"待处理",type:"巡检",content:"日常巡检，检查设备安全运行情况。重点检查：1.安全防护装置；2.紧急停止功能；3.操作面板显示；4.设备运行噪音。"},{id:"GD20230508008",sender:"吴十",createTime:"2023-05-08 08:50:00",status:"待处理",type:"巡检",content:"日常巡检，检查设备安全运行情况。重点检查：1.安全防护装置；2.紧急停止功能；3.操作面板显示；4.设备运行噪音。"}],showIssueModal:!1,showDetailModal:!1,showUpdateModal:!1,selectedOrder:{},updateForm:{id:"",sender:"",status:"",type:"",content:""},issueForm:{receiver:"",category:"",content:""}}},mounted(){this.fetchStatusOptions(),this.fetchSenderOptions()},methods:{fetchStatusOptions(){setTimeout(()=>{this.statusOptions=[{value:"pending",label:"待处理"},{value:"processing",label:"处理中"},{value:"completed",label:"已完成"},{value:"cancelled",label:"已取消"}]},500)},fetchSenderOptions(){setTimeout(()=>{const t=[...new Set(this.orderList.map(t=>t.sender))];this.senderOptions=t},500)},handleSearch(){console.log("查询条件:",{sender:this.sender,status:this.selectedStatus})},handleIssue(){console.log("执行下发操作"),this.showIssueModal=!0},closeModal(){this.showIssueModal=!1,this.issueForm={receiver:"",category:"",content:""}},confirmIssue(){console.log("确认下发工单:",this.issueForm),this.closeModal()},showOrderDetail(t){this.selectedOrder=t,this.showDetailModal=!0},closeDetailModal(){this.showDetailModal=!1,this.selectedOrder={}},selectRow(t){console.log("选中行:",t)},getStatusClass(t){const e={"待处理":"pending","处理中":"processing","已完成":"completed","已取消":"cancelled"};return e[t]||""},updateOrder(t){this.updateForm={id:t.id,sender:t.sender,status:t.status,type:t.type,content:t.content},this.showUpdateModal=!0},closeUpdateModal(){this.showUpdateModal=!1,this.updateForm={id:"",sender:"",status:"",type:"",content:""}},confirmUpdate(){console.log("更新工单:",this.updateForm);const t=this.orderList.findIndex(t=>t.id===this.updateForm.id);-1!==t&&(this.orderList[t]={...this.updateForm}),this.closeUpdateModal()}}}),n=i,l=s(1656),r=(0,l.A)(n,a,o,!1,null,"c69fd92c",null),c=r.exports}}]);
//# sourceMappingURL=505.22bb72de.js.map